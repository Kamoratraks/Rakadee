<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Home | RAKADEE</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/prettyPhoto.css" rel="stylesheet">
    <link href="css/price-range.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
	<link href="css/main.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->  
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <link rel="shortcut icon" href="images/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">
  <!-- หากใช้ไอคอนจาก FontAwesome ต้องใส่ส่วนนี้ในเว็บไซต์ของคุณเพื่อเรียกใช้ไอคอน -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- หากใช้ไอคอนจาก FontAwesome ต้องใส่ส่วนนี้ในเว็บไซต์ของคุณเพื่อเรียกใช้ไอคอน -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
  /* body, .navbar, .dropdown-item, .nav-link, a, ul, li, header {
    font-family: 'Kanit', sans-serif;
} */
.mainmenu ul li a {
	font-family: 'Kanit', sans-serif;
}
h1,h2,h3,h4,h5, #h1, .pname {
  font-family: 'Kanit', sans-serif;
}

.pprice{
  font-family: 'Poppins', sans-serif;
}


.left-sidebar {
    font-size: 18px;
    color: #333;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 20px;
}

.panel-group .panel {
    border-radius: 5px;
    border: 1px solid #e6e6e6;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
}

.panel-group .panel-heading {
    background-color: #fff;
    border-bottom: 1px solid #e6e6e6;
}

.panel-title {
    font-size: 20px;
    color: #666;
}

.panel-title a {
    color: #666;
    text-decoration: none;
}

.panel-body {
    background-color: #fff;
}

.panel-body ul {
    list-style: none;
    padding-left: 0;
}

.panel-body ul li {
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.panel-body ul li:last-child {
    border-bottom: none;
}

.panel-body ul li a {
    color: #666;
    text-decoration: none;
}

.badge.pull-right {
    background-color: #8c8c8c;
}

.badge.pull-right i {
    color: #fff;
}
</style>


				
				<style>
  .product-image {
    max-width: 300px;
    max-height: 200px;
  }
        /* Link Styles */
        .link-style {
            font-size: 18px;
            text-decoration: none;
            /* color: #333; */
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .link-style:hover {
            color: #f86a28; /* Bootstrap primary blue */
            text-decoration: underline;
        }

        /* Container Enhancements */
        .custom-row {
            margin-top: 50px; /* Adds some space at the top for better visibility */
        }
        .element1:hover {
    cursor: pointer;
}
    /* กำหนดส่วนของไอคอนในปุ่มค้นหา */
    .search-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background-color: pink; /* สีพื้นหลังของไอคอน */
      border-radius: 50%; /* กำหนดรูปร่างของไอคอนให้เป็นวงกลม */
      cursor: pointer;
    }

    /* กำหนดสีของไอคอนในปุ่มค้นหา */
    .search-icon i {
      color: white;
    }


    /* กำหนดส่วนของช่องค้นหา */
    .search_box {
      position: relative;
    }


    /* กำหนดส่วนของช่องค้นหา */
    input[type="text"] {
      padding-right: 70px; /* กำหนดระยะห่างด้านขวาของช่องค้นหาให้พอดีกับขนาดของไอคอน */
      border-radius: 30px; /* กำหนดรูปร่างของช่องค้นหา */
    }

    /* กำหนดรูปและข้อความอยู่ตรงกลาง */
    .container {
      position: relative;
      text-align: center;
    }

    /* กำหนดข้อความที่ต้องการเพิ่มบนรูป */
    .image-text {
      position: absolute;
      top: 60%; /* ให้ข้อความอยู่ตรงกลางแนวตั้ง */
      left: 50%; /* ให้ข้อความอยู่ตรงกลางแนวนอน */
      transform: translate(-50%, -50%); /* ให้ข้อความอยู่ตรงกลางทั้งแนวตั้งและแนวนอน */
      font-size: 34px; /* ขนาดตัวอักษรของข้อความที่ต้องการ */
      color: #ffffff; /* สีข้อความ */
      font-weight: bold; /* กำหนดตัวหนาให้กับข้อความ */
    }
    /* กำหนดช่องค้นหาอยู่บนรูป */
    .search-box {
      position: absolute;
      bottom: 20px; /* ระยะห่างของช่องค้นหาจากข้อความที่อยู่บนรูป */
      left: 50%;
      transform: translateX(-50%);
      width: 700px; /* กำหนดความกว้างของช่องค้นหา */
      background-color: #f1f1f1; /* สีพื้นหลังของช่องค้นหา */
      border-radius: 30px; /* กำหนดรูปร่างของช่องค้นหา */
      padding: 8px 8px; /* ปรับ padding ทั้งด้านซ้ายและขวา */
      display: flex;
    }
    /* กำหนดสีตัวอักษรของช่องค้นหา */
 .search-box {
      position: absolute;
      bottom: 20px; /* ระยะห่างของช่องค้นหาจากข้อความที่อยู่บนรูป */
      left: 50%;
      transform: translateX(-50%);
      width: 700px; /* กำหนดความกว้างของช่องค้นหา */
      background-color: #f1f1f1; /* สีพื้นหลังของช่องค้นหา */
      border-radius: 40px; /* กำหนดรูปร่างของช่องค้นหา */
      padding: 10px 10px; /* ปรับ padding ทั้งด้านซ้ายและขวา */
      display: flex;
    }
    /* กำหนดสีตัวอักษรของช่องค้นหา */
    .search-box input[type="text"] {
      flex: 1;
      color: black;
      border: none; /* ลบเส้นขอบของช่องค้นหา */
      width: 100%; /* ช่องค้นหาครอบคลุมพื้นที่ทั้งหมดที่มีใน .search-box */
      box-sizing: border-box; /* ให้ความกว้างของช่องค้นหาคำนวณจาก border-box ไม่นับความกว้างของ padding และ border */
		padding: 10px;
    }

    /* ปรับขนาดรูปให้เต็มขนาดจอ */
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }


  
	.search-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 400px; /* Adjust as needed */
  padding: 10px;
  border-radius: 10px;
  background-color: #f2f2f2; /* Adjust as needed */
  box-shadow: 0px 4px 8px 0px rgba(0, 0, 0, 0.2); /* Adjust as needed */
}

#getdata {
  width: 80%; /* Adjust as needed */
  padding: 15px;
  border: none;
  font-size: 1.5rem; /* Adjust as needed */
  color: #333; /* Adjust as needed */
  background-color: transparent;
  outline: none;
}

.search-icon1 {
  cursor: pointer;
  width: 50px; /* Adjust as needed */
  height: 50px; /* Adjust as needed */
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2rem; /* Adjust as needed */
  color: #333; /* Adjust as needed */
}

 </style>
	<script>
        // Fetch data from the FastAPI endpoint
        fetch('http://localhost:8000/api/data')
            .then(response => response.json())
            .then(data => {
                // Process the received data
                console.log(data);
                // Use the data in your JavaScript code
                // For example, you can display the data in the DOM
            })
            .catch(error => console.error('Error:', error));
    </script>
  </head><!--/head-->

<body>
	

	
  <p style="margin-bottom: 20px;"></p>
	<section>
		<div class="container">
			<div class="row">
			
	<header id="header"><!--header-->
		<div class="header-bottom"><!--header-bottom-->
			<div class="container">
				<div class="row">
					<div class="col-sm-9">

						<div class="mainmenu pull-left">
							<ul class="nav navbar-nav collapse navbar-collapse">
								<li><a href="index.html"><img src="images/home/logo.png" alt="" style="width: 150px; height: " /></a></li>
								<li><a href="./index.html?product=อุปกรณ์สื่อสาร" class="active fs-2">อุปกรณ์สื่อสาร</a></li>
								<li class="dropdown"><a class="active fs-2" href="./index.html?product=คอมพิวเตอร์">คอมพิวเตอร์<i class="fa fa-angle-down"></i></a>
                  <ul role="menu" class="sub-menu">
                    <li><a class="active1 fs-2" href="./index.html?product=โน๊ตบุ๊ค">โน๊ตบุ๊ค</a></li>
										<li><a class="active1 fs-2" href="./index.html?product=คอมพิวเตอร์ตั้งโต๊ะ">คอมพิวเตอร์ตั้งโต๊ะ</a></li> 
										<li><a class="active1 fs-2" href="./index.html?product=การ์ดจอ">การ์ดจอ</a></li> 
										<li><a class="active1 fs-2" href="./index.html?product=เมนบอรด์">เมนบอรด์</a></li> 
                  </ul>
                </li> 
								<li class="dropdown"><a class="active fs-2" href="./index.html?product=แฟชั่น">แฟชั่น<i class="fa fa-angle-down"></i></a>
                                    <ul role="menu" class="sub-menu">
                                        <li><a    class="active1 fs-2" href="./index.html?product=นาฬิกาข้อมือ">นาฬิกาข้อมือ</a></li>
										<li><a  class="active1 fs-2"  href="./index.html?product=กระเป๋า">กระเป๋า</a></li>
                                    </ul>
                                </li> 
								<li><a   class="active fs-2"  href="./index.html?product=ความงาม">ความงาม</a></li>
								<li><a   class="active fs-2"  href="./index.html?product=หนังสือ">หนังสือ</a></li>
							</ul>
						</div>
					</div>
					

				</div>
			</div>
		</div><!--/header-bottom-->
	</header><!--/header-->

  <div class="container">
    <img src="title2.png" alt="My Image">
    <div class="image-text p-5" id="h1">ค้นหาและเปรียบเทียบ<span style="color: #ff4949;">  ราคาสินค้า</span></div>
    
    <div class="search-box">
      <!-- ใส่โค้ดของช่องค้นหาที่ต้องการ -->
      <input type="text" id="getdata" placeholder="ค้นหาสิ่งที่คุณต้องการ...">
      <div class="search-icon" id = "search-icon1" onclick="sendData2()">
        <!-- ใส่ไอคอนที่ต้องการ -->
		
        <i class="fa fa-search" > </i>
        <!-- หรือใส่โค้ดของไอคอนอื่น ๆ ที่ต้องการ -->

      </div>
    </div>
  </div>

<div class="row custom-row d-flex justify-content-end">
	<div class="col-sm-2 text-end">
    <img id="scrollButtonL" height="50px" style="height: 50px; border-radius: 15px;" src="./images/home/lazadab.png" class="element1" alt="Click Me">
	
	</div>
	<div class="col-sm-2 text-end">
		<img id="scrollButtonA"  height="50px" style="height: 50px; border-radius: 15px;" src="./images/home/amazonb.png" class="element1" alt="Click Me">
	</div>
	
</div>



				<div class="col-sm-12">
					<h1 id = "elem_lazada" style="font-family: 'Poppins', sans-serif;
          font-weight: 700; " class="h1">Lazada</h1>
					<div class="row" style="padding: 20px;margin: 20px;" id = "productsL" >
						
					<img src = "./images/home/lazada.png" style="height: 500px;"/>
					</div><!--features_items-->
					<hr/>
						<h1 id = "elem_amazon" style="font-family: 'Poppins', sans-serif;
            font-weight: 700; " class="h1">Amazon</h1>
						<div class="row"  style="padding: 20px;margin: 20px;" id = "productsA" >
							<img src = "./images/home/amazon.png" style="height: 500px;" height="500px"/>
							<!--features_items-->
							
				
			</div>
		</div>
	</section>
		<script>
      function sendData2() {
        let dataInput = document.getElementById("getdata").value;
        var newUrl = "./index.html?product=" + dataInput;
          window.open(newUrl, '_blank');

      }
			function sendData() {
				var dataInput = document.getElementById("getdata");
				var dataToSend = dataInput.value;
				console.log(dataToSend)
				fetch('http://localhost:8000/send_data', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({ "data": dataToSend })
				})
				.then(response => response.json())
				.then(data => {
					
					data = data["received_data"]
					let amazon = data[0]
					let lazada = data[1]
					console.log("Data received from server1:", dataInput);
					console.log("Data received from server1:", amazon.length);
					console.log("Data received from server2:", lazada.length);
					let productsA = document.getElementById("productsA");
					productsA.innerHTML = `
  <div class="row d-flex justify-content-start" style="text-align: left;">
    <h3 style="font-size: 25px">${dataInput.value}</h3>
    <p style="font-size: 20px" class="pname">${amazon.length} ค้นพบสินค้าสำหรับ ${dataInput.value}</p>
    <hr/>
  </div>`;

	for (const product of amazon) {
	let productDiv = document.createElement("div");
	productDiv.className = "col-sm-3";
	productDiv.innerHTML = `
	<div class="product-image-wrapper">

								<div class="single-products">
										<div class="productinfo text-center">
											<img style="width: 100%;" src="${product[2]}" alt="" style="wid" class="product-image"/>
											<h2  style="color: black;">${product[1]}</h2>
											<p>${product[0]}</p>
											<a target="_blank" href="${product[3]}" class="btn btn-default add-to-cart fs-2 pname"><i class="fa fa-shopping-cart"></i>สั่งซื้อสินค้า</a>
										</div>
								</div>
							</div>`;
	productsA.appendChild(productDiv);
	}
	
	let productsL = document.getElementById("productsL");
	productsL.innerHTML = `
  <div class="row d-flex justify-content-start"  style="text-align: left;">
    <h3 style="font-size: 25px">${dataInput.value}</h3>
    <p style="font-size: 20px"  class="pname">${lazada.length} ค้นพบสินค้าสำหรับ ${dataInput.value}</p>
    <hr/>
  </div>`;
	for (const productL of lazada) {
	let productDivL = document.createElement("div");
	productDivL.className = "col-sm-3";
	productDivL.innerHTML = `<div class="product-image-wrapper">
								<div class="single-products">
										<div class="productinfo text-center">
											<img style="width: 100%;" src="${productL[2]}" alt="" style="wid" class="product-image"/>
											<h2  style="color: black;">${productL[1]}</h2>
											<p>${productL[0]}</p>
											<a target="_blank" href="${productL[3]}" class="btn btn-default add-to-cart fs-2 pname"><i class="fa fa-shopping-cart"></i>สั่งซื้อสินค้า</a>
										</div>
								</div>
							</div>`;
	productsL.appendChild(productDivL);
	}
	
					
				})
				.catch(error => console.error('Error:', error));
			}
      </script>

  

    <script src="js/jquery.js"></script>
	<!-- <script src="js/bootstrap.min.js"></script> -->
	<!-- <script src="js/jquery.scrollUp.min.js"></script> -->
	<script src="js/price-range.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>
    <!-- <script src="js/main.js"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    myFunction();  // Call your function
});

function getParamValue(paramName) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(paramName);
}

function myFunction() {
    document.getElementById("getdata").value = getParamValue('product');
    if (getParamValue('product') && getParamValue('product') !== "") {
        sendData();
    }
}


</script>


<div style="height: 1000px;"></div> <!-- Spacer to ensure scrolling is necessary -->


<script>
	document.getElementById('scrollButtonA').addEventListener('click', function() {
  const elementToScrollTo = document.getElementById('elem_amazon');
  elementToScrollTo.scrollIntoView({ behavior: 'smooth' });
});
document.getElementById('scrollButtonL').addEventListener('click', function() {
  const elementToScrollTo = document.getElementById('elem_lazada');
  elementToScrollTo.scrollIntoView({ behavior: 'smooth' });
});

</script>
</body>
</html>